.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "TROWSER 1"
.TH TROWSER 1 "2023-06-08" "2.2" "Trace Browser"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
trowser \- Browser for line\-oriented text files with color highlighting
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBtrowser\fR [{\-t|\-h} limit] [\-r path] [file|\-]
.PP
\&\fBtrowser\fR \-help
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fITrowser\fR is a graphical browser for large line-oriented text files with color
highlighting and a highly flexible search and cherry-picking window. Trowser
was developed as an alternative to tools such as \*(L"less\*(R" (\s-1UNIX\s0) or \*(L"Notepad++\*(R"
(Windows) when analyzing debug log files (or \*(L"trace files\*(R", as they are often
called in embedded software world \- hence the name).
.PP
Trowser has a graphical interface, but is designed to allow browsing via
the keyboard at least to the same extent as less. Additional key bindings
and the cursor positioning concept are derived from the Vim text editor.
.PP
Note in this context \*(L"line-oriented\*(R" denotes that each line of text is
considered a data unit.  Color highlighting (including search matches)
will always apply the highlight to a complete line of text.
.PP
When you start trowser for the first time, you'll have to create highlight
patterns for your type of file.  To do this, first enter a search pattern
and verify that it matches the intended lines. Then open the
\&\fIEdit highlight patterns\fR dialog in the \fISearch\fR menu, press the right
mouse button to open the context menu and select \fIAdd current search\fR.
You can change the highlight color or select a different kind of mark-up
by double-clicking on the new entry in the dialog, or by selecting
\&\fIEdit markup\fR in the context menu.  To define new colors, click on
\&\fIEdit color palette\fR at the bottom of the markup editor dialog.
.PP
There are several ways to quickly navigate in the file to lines matching
search patterns: Firstly, you can search forwards or backwards to any
sub-string or pattern you enter in the \fIFind:\fR field. Secondly, you can
repeat previous searches by opening the search history dialog and
double-clicking on an entry, or by clicking \fINext\fR or \fIPrevious\fR.
Third, you can assign bookmarks to selected text lines and jump
in-between those lines by clicking on them in the bookmark list
dialog or via \f(CW\*(C`\*(Aq+\*(C'\fR and \f(CW\*(C`\*(Aq\-\*(C'\fR key bindings (not in vim.) Fourth,
you can search for patterns defined in the color highlight list
by selecting a pattern in the list and then clicking on \fINext\fR or
\&\fIPrevious\fR in the pattern list dialog.
Fifth, you can open the \fISearch result list\fR (via the \fISearch\fR menu
or by clicking on \fIList all\fR in any dialog or by entering \f(CW\*(C`ALT\-a\*(C'\fR)
to display all text lines which match a set of patterns and click on an
entry in this list to jump to the respective line in the main window.
Sixth, you can manually copy arbitrary lines from the main text window
into the search result window via the \f(CW\*(Aqi\*(Aq\fR key (not in vim.)
.PP
The search filter list is one of the main features of the trace
browser, as it allows to consecutively build an arbitrary sub-set of
text lines in the main window. You can not only use one or more search
patterns to add text, but also add selected text lines from the main
text window via the \f(CW\*(C`i\*(C'\fR key binding and remove individual lines again,
either manually or by use of a search pattern.  Additionally you can use
bookmarks in the search result window. When searching in the main window,
the search result list will scroll to show the same region of text. Thus
you effectively can navigate the text on three levels: Bookmarks > Search
list > Main text.
.PP
Both the bookmark and search result lists support prefixing all entries
with a \*(L"frame number\*(R". This is useful when your input file does not have
time-stamp prefixes on each line. In this case trowser can search for a
preceding time-stamp and automatically prefix bookmarked lines with this
number.  Additionally trowser allows to fetch a \*(L"frame number\*(R" which is
not printed in the same line as the frame interval start line. In this
case trowser searches the next frame start lines in forward and backward
direction and then inside of that range for a line containing the frame
number value.  Note for the search result list this feature is disabled
by default for performance reasons. It must be enabled in the dialog's
\&\fIOptions\fR menu. The search patterns used to locate time-stamps currently
have to be inserted into the \s-1RC\s0 file manually.
.PP
For performance reasons most search-related commands are executed as
background processes, so that the \s-1GUI\s0 remains responsive during search.
For example, this applies to the initial color highlighting, global
search highlighting, incremental search while editing search patterns
and filling the search result list.  Such background activity is
indicated by display of a progress bar and switching the mouse cursor
to a watch or hourglass image.  You still can use trowser as usual during
this time though.  The background activity is automatically aborted or
restarted when a conflicting command is entered (e.g. when the search
pattern is modified during global search highlighting.)
.SH "KEY BINDINGS"
.IX Header "KEY BINDINGS"
Generally, keyboard focus can be moved between control elements
(e.g. buttons, check-boxes and text containers) using the \fI\s-1TAB\s0\fR or
\&\fIShift-TAB\fR.  The widget with the keyboard focus is marked by a
black border.  After start-up, keyboard focus is in the main text
window.  Functions which are bound to mouse clicks on buttons etc.
can be activated via the keyboard using the \fISpace\fR bar. Many
functions can also be activated via shortcuts: Press the \fI\s-1ALT\s0\fR key
plus the character which is underlines in the button description
(e.g. Press \f(CW\*(C`ALT\-c\*(C'\fR to open the \fIControl\fR menu, or \f(CW\*(C`ALT\-a\*(C'\fR to
simulate a mouse-click on the \fIAll\fR button at the bottom of the
main window.)
.PP
In the following descriptions, \f(CW\*(C`^X\*(C'\fR means \fIControl-X\fR, i.e. holding the
Control key pressed while pressing the \f(CW\*(C`X\*(C'\fR key. \fI\s-1ALT\s0\fR refers to the key
to the left of the \fISpace\fR bar.  Enclosing quotes must be typed.
.SS "Key Bindings in the Main Window"
.IX Subsection "Key Bindings in the Main Window"
The commands in this section can be used when the keyboard focus is in
the main window.
.PP
Commands to move the cursor or change the view:
.IP "\fIUp\fR, \fIDown\fR, \fILeft\fR, \fIRight\fR" 4
.IX Item "Up, Down, Left, Right"
Move the cursor in the respective direction. When the cursor hits
the end of the visible area (i.e. the view), the text is scrolled
vertically by a line or horizontally by a character (same as in vim,
except for the smoother horizontal scrolling)
.IP "\fIControl-Up\fR, \fIControl-Down\fR, \fIControl-Left\fR, \fIControl-Right\fR" 4
.IX Item "Control-Up, Control-Down, Control-Left, Control-Right"
Scroll the view by a line or character in the respective direction
(not in vim \- unless you have added \*(L"map <C\-Down> ^E\*(R" etc. in \fI.vimrc\fR)
.ie n .IP """h"", ""l"", ""k"", ""j""" 4
.el .IP "\f(CWh\fR, \f(CWl\fR, \f(CWk\fR, \f(CWj\fR" 4
.IX Item "h, l, k, j"
Move the cursor left, right, up or down (same as in vim)
.ie n .IP "\fIReturn\fR, ""+"", ""\-""" 4
.el .IP "\fIReturn\fR, \f(CW+\fR, \f(CW\-\fR" 4
.IX Item "Return, +, -"
Move the cursor to the start of the following or preceding line
(to be exact: the first non-blank character) (same as in vim)
.IP "\fISpace\fR, \fIBackSpace\fR" 4
.IX Item "Space, BackSpace"
Move the cursor to the next or preceding character (same as in vim)
.ie n .IP "\fIHome\fR, \fIEnd\fR, 0, ""$"", ""^""" 4
.el .IP "\fIHome\fR, \fIEnd\fR, \f(CW0\fR, \f(CW$\fR, \f(CW^\fR" 4
.IX Item "Home, End, 0, $, ^"
Move the cursor to the first or last character of the current line
(same as in vim)
.ie n .IP "\fIControl-Home\fR, \fIControl-End\fR, ""G"", ""gg""" 4
.el .IP "\fIControl-Home\fR, \fIControl-End\fR, \f(CWG\fR, \f(CWgg\fR" 4
.IX Item "Control-Home, Control-End, G, gg"
Move the cursor to the start or end of the file (same as in vim)
Note an equivalent alternative to \f(CW\*(C`gg\*(C'\fR is \f(CW\*(C`1g\*(C'\fR.
.ie n .IP """H"", ""M"", ""L""" 4
.el .IP "\f(CWH\fR, \f(CWM\fR, \f(CWL\fR" 4
.IX Item "H, M, L"
Move the cursor to the start of the line at the top, middle or
bottom of the view (same as in vim)
.ie n .IP """w"", ""e"", ""b"", ""W"", ""E"", ""B"", ""ge"", ""gE""" 4
.el .IP "\f(CWw\fR, \f(CWe\fR, \f(CWb\fR, \f(CWW\fR, \f(CWE\fR, \f(CWB\fR, \f(CWge\fR, \f(CWgE\fR" 4
.IX Item "w, e, b, W, E, B, ge, gE"
Move the cursor to the start or end of the next or preceding word
(same as in vim)
.ie n .IP """^e"", ""^y"", ""^d"", ""^u"", ""^f"", ""^b""" 4
.el .IP "\f(CW^e\fR, \f(CW^y\fR, \f(CW^d\fR, \f(CW^u\fR, \f(CW^f\fR, \f(CW^b\fR" 4
.IX Item "^e, ^y, ^d, ^u, ^f, ^b"
Scroll the screen by a single line, half a screen or a full screen
forwards or backwards (same as in vim)
.ie n .IP """z""\fIReturn\fR, ""z."", ""z\-""" 4
.el .IP "\f(CWz\fR\fIReturn\fR, \f(CWz.\fR, \f(CWz\-\fR" 4
.IX Item "zReturn, z., z-"
Adjusts the view vertically so that the current line is at the top,
middle or bottom of the screen and places the cursor on the first
non-blank character (same as in vim)  The horizontal view is set
to start at the left border.
.ie n .IP """zt"", ""zz"", ""zb""" 4
.el .IP "\f(CWzt\fR, \f(CWzz\fR, \f(CWzb\fR" 4
.IX Item "zt, zz, zb"
Adjusts the view so that the current line is at the top, middle or
bottom of the screen; the cursor position is unchanged (same as in vim)
.ie n .IP """zl"", ""zh"", ""zL"", ""zH""" 4
.el .IP "\f(CWzl\fR, \f(CWzh\fR, \f(CWzL\fR, \f(CWzH\fR" 4
.IX Item "zl, zh, zL, zH"
Move the view horizontally to the left or right (same as in vim)
.ie n .IP """zs"", ""ze""" 4
.el .IP "\f(CWzs\fR, \f(CWze\fR" 4
.IX Item "zs, ze"
Scroll the view horizontally so that the current cursor column is placed
at the left or the right side of the screen (as far as possible); in any
case the cursor position remains unchanged (same as in vim)
.ie n .IP """f"", ""F""" 4
.el .IP "\f(CWf\fR, \f(CWF\fR" 4
.IX Item "f, F"
Search for the following character in the same line to the right or
left respectively (same as in vim)
.ie n .IP """;"", "","" (semicolon, comma)" 4
.el .IP "\f(CW;\fR, \f(CW,\fR (semicolon, comma)" 4
.IX Item ";, , (semicolon, comma)"
Repeat a previous in-line search (\f(CW\*(C`f\*(C'\fR or \f(CW\*(C`F\*(C'\fR) in the same or opposite
direction respectively (same as in vim)
.ie n .IP "\*(Aq\*(Aq (two apostrophes)" 4
.el .IP "\f(CW\*(Aq\*(Aq\fR (two apostrophes)" 4
.IX Item " (two apostrophes)"
Moves the cursor to the position before the latest jump (same as
in vim and less.)  A \*(L"jump\*(R" is one of the following commands:
\&\f(CW\*(C`\*(Aq\*(C'\fR, \f(CW\*(C`G\*(C'\fR, \f(CW\*(C`/\*(C'\fR, \f(CW\*(C`?\*(C'\fR, \f(CW\*(C`n\*(C'\fR, \f(CW\*(C`N\*(C'\fR, \f(CW\*(C`L\*(C'\fR, \f(CW\*(C`M\*(C'\fR and \f(CW\*(C`H\*(C'\fR (same as
in vim.)  Note movements controlled via the \s-1GUI,\s0 such as the
bookmark list or search result list, do not modify the jump list.
.ie n .IP """\*(Aq+"", ""\*(Aq\-""" 4
.el .IP "\f(CW\*(Aq+\fR, \f(CW\*(Aq\-\fR" 4
.IX Item "+, -"
Moves the cursor to the next or previous bookmark (not in vim)
.ie n .IP """\*(Aq^"", ""\*(Aq$""" 4
.el .IP "\f(CW\*(Aq^\fR, \f(CW\*(Aq$\fR" 4
.IX Item "^, $"
Moves the cursor to the start or end of file (same as in less; not in vim)
.ie n .IP """^o"", ""^i""" 4
.el .IP "\f(CW^o\fR, \f(CW^i\fR" 4
.IX Item "^o, ^i"
Moves the cursor to the next older (or newer respectively) position in
the jump list (same as in vim; note \f(CW\*(C`TAB\*(C'\fR which is identical to \f(CW\*(C`^i\*(C'\fR
in vim has a different meaning here.) See \f(CW\*(Aq\*(Aq\fR for a list of commands
which are considered jumps and add pre-jump cursor positions to the
list.
.ie n .IP "1, 2, ... 9" 4
.el .IP "\f(CW1\fR, \f(CW2\fR, ... \f(CW9\fR" 4
.IX Item "1, 2, ... 9"
A number without leading zeroes can be used to repeat the subsequent
key command or place the cursor on a given line or column (same as in vim)
.Sp
For example: \f(CW\*(C`1G\*(C'\fR places the cursor in the first line of the file;
\&\f(CW\*(C`10|\*(C'\fR places the cursor in the tenth column of the current line
(line and column numbering starts at 1.)  Note the number cannot start
with zero, as \f(CW0\fR is treated specially (immediately moves the cursor
into the first column, same as in vim.)
.PP
Searching and repeating:
.ie n .IP """/"", ""?""" 4
.el .IP "\f(CW/\fR, \f(CW?\fR" 4
.IX Item "/, ?"
Search for the following pattern (same as in vim.)
Similar to vim, the keyboard focus is moved from the main text into a
small text entry field (command line in vim) Note the previous search
pattern is always cleared when re-entering the entry field, but all
previously used patterns are still available in the history which can
be accessed with the cursor up/down keys like in vim. Note in addition,
you can use \f(CW\*(C`^d\*(C'\fR in the search field to copy the text under the cursor
in the main window into the search field, word by word.
.Sp
As soon as a search expression is typed into the field, an incremental
search is started and matching lines are highlighted. The cursor in
the main text isn't actually moved there until the search is completed
by pressing \f(CW\*(C`Return\*(C'\fR.  The search can be aborted by \f(CW\*(C`^C\*(C'\fR or \f(CW\*(C`Escape\*(C'\fR.
For more details see \*(L"Key Bindings in the Search Entry Field\*(R"\*(L" in \*(R"\s-1KEY BINDINGS\s0.
.ie n .IP """n"", ""N""" 4
.el .IP "\f(CWn\fR, \f(CWN\fR" 4
.IX Item "n, N"
Repeats the previous search in forward or backwards direction
respectively (similar to vim \- however in contrary to vim \f(CW\*(C`n\*(C'\fR
always searches forward and \f(CW\*(C`N\*(C'\fR always backwards because the
standard vim behavior of remembering and reversing the search
direction with \f(CW\*(C`N\*(C'\fR is very confusing.)
.ie n .IP """*"", ""#""" 4
.el .IP "\f(CW*\fR, \f(CW#\fR" 4
.IX Item "*, #"
Searches for the word under the cursor in forward or backwards direction
respectively (same as in vim)  Note when regular expression search mode
is not enabled, this command performs a plain sub-string text search.
Else, word boundary matches are placed around the search text, as done
by vim.
.ie n .IP """&""" 4
.el .IP "\f(CW&\fR" 4
.IX Item "&"
Remove the highlighting of previous search matches (not in vim as such,
but can be added via \f(CW\*(C`map & :nohlsearch^M\*(C'\fR in \fI.vimrc\fR)  Note this does
not disable highlighting in subsequent searches.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""f""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWf\fR" 4
.IX Item "ALT- f"
Moves the focus in the search search entry field.  This is equivalent to
\&\f(CW\*(C`/\*(C'\fR or \f(CW\*(C`?\*(C'\fR but without changing the search direction (not in vim)
This is equivalent to clicking into the \*(L"Find:\*(R" entry field with the
mouse button.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""n"", \fI\s-1ALT\-\s0\fR ""p""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWn\fR, \fI\s-1ALT\-\s0\fR \f(CWp\fR" 4
.IX Item "ALT- n, ALT- p"
Repeat a previous search, equivalent to \f(CW\*(C`n\*(C'\fR and \f(CW\*(C`N\*(C'\fR (not in vim)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""h""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWh\fR" 4
.IX Item "ALT- h"
Enable the \*(L"Highlight all\*(R" option, i.e. highlight all lines in the text
where the current search pattern matches (not in vim)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""a""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWa\fR" 4
.IX Item "ALT- a"
Open the search result window and fill it with all text lines which match
the current search pattern (not in vim)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""N"", \fI\s-1ALT\-\s0\fR ""P""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWN\fR, \fI\s-1ALT\-\s0\fR \f(CWP\fR" 4
.IX Item "ALT- N, ALT- P"
Open the search result window and fill it with all text lines below or
above the current cursor position respectively which match the current
search pattern (not in vim)
.PP
The following commands can be used to change the selection.
.PP
Note that selected text is automatically exported and can be pasted
into other applications.
.IP "\fIShift-Left\fR, \fIShift-Right\fR, \fIShift-Up\fR, \fIShift-Down\fR" 4
.IX Item "Shift-Left, Shift-Right, Shift-Up, Shift-Down"
Starts or extends the selection in the respective direction (not in vim)
Note that trowser only supports the character-wise selection mode (like
\&\f(CW\*(C`v\*(C'\fR in vim)
.IP "\fIShift-Home\fR, \fIShift-End\fR" 4
.IX Item "Shift-Home, Shift-End"
Starts or extends the selection from the current cursor position to the
start or end of the current line (not in vim)
.IP "\fIControl-Shift-Home\fR, \fIControl-Shift-End\fR" 4
.IX Item "Control-Shift-Home, Control-Shift-End"
Starts or extends the selection from the current cursor position to the
start or end of the file (not in vim)
.ie n .IP """^c""" 4
.el .IP "\f(CW^c\fR" 4
.IX Item "^c"
Copies the currently selected text to the clipboard.  (Note that this
command is actually superfluous as the text is copied as soon as some
text is selected.)
.PP
Misc. commands (none of these are in vim):
.ie n .IP """m""" 4
.el .IP "\f(CWm\fR" 4
.IX Item "m"
This key, or double-clicking into a text line, toggles a bookmark in the
respective line (different from vim; note setting named bookmarks is not
supported.)  Additionally the view of the search result list, if open,
will be centered around the line (even if the marked line is not included
in the search results.)
.ie n .IP """i""" 4
.el .IP "\f(CWi\fR" 4
.IX Item "i"
Insert (i.e. copy) the text line holding the cursor into the search result
window. If a selection exists and is currently visible, the selected lines
are copied instead. (Note the restriction to visibility of the selection
exists to avoid confusion about \f(CW\*(C`i\*(C'\fR not working on the current text line.)
.ie n .IP """u"", ""^r""" 4
.el .IP "\f(CWu\fR, \f(CW^r\fR" 4
.IX Item "u, ^r"
Undo or redo respectively the last addition or removal of text lines in
the search list done by \f(CW\*(C`i\*(C'\fR or \*(L"Search All\*(R" (different from vim.)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""+"", \fI\s-1ALT\-\s0\fR ""\-""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CW+\fR, \fI\s-1ALT\-\s0\fR \f(CW\-\fR" 4
.IX Item "ALT- +, ALT- -"
Increases or decreases the font size for the text content. Note the behavior
when reaching the maximum or minimum font size is undefined.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""w""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWw\fR" 4
.IX Item "ALT- w"
Toggle line-wrap for text in the main window (i.e. text lines which are
longer than the window width will wrap into the next line.)
.SS "Key Bindings in the Search Entry Field"
.IX Subsection "Key Bindings in the Search Entry Field"
The following commands can be used when the keyboard focus is in the
\&\fBsearch entry field\fR at the bottom of the main window:
.IP "\fIReturn\fR" 4
.IX Item "Return"
Store the current pattern in the search history and return focus to the main
window with the cursor on the next match (same as vim)   Note the cursor is
already moved via incremental search when entering the text (including the
highlighting of adjacent matches) so the search and cursor movement need not
be done again here.  This command is equivalent to leaving the search field
by clicking with the mouse outside or switching keyboard focus via \fI\s-1TAB\s0\fR
or \fIShift-TAB\fR.
.ie n .IP "\fIEscape\fR, ""^c""" 4
.el .IP "\fIEscape\fR, \f(CW^c\fR" 4
.IX Item "Escape, ^c"
Abort the current search, i.e. return focus to the main window and place
the cursor on the previous position. The search pattern in the entry field
is still pushed onto the history (same as in vim.)
.ie n .IP """^a"", ""^e""" 4
.el .IP "\f(CW^a\fR, \f(CW^e\fR" 4
.IX Item "^a, ^e"
Move the insertion cursor to the start or end of the search text entry field
(\f(CW\*(C`^e\*(C'\fR is same as in vim; \f(CW\*(C`^a\*(C'\fR is not in vim.)  Note: movement and selection
via cursor keys works in the same way as described for the main text.
.ie n .IP """^n"", ""^N""" 4
.el .IP "\f(CW^n\fR, \f(CW^N\fR" 4
.IX Item "^n, ^N"
Jump to the next or previous match respectively for the current pattern
using incremental search.  Note these commands do not affect the fall-back
cursor position, i.e. when the search is aborted or the pattern is changed,
the cursor returns to the original start position (not in vim)
.IP "\fIUp\fR, \fIDown\fR" 4
.IX Item "Up, Down"
Copies the previous or next pattern in the search history into the entry
field. If the entry field already contains some text, the search is
restricted to patterns with the same prefix.
.ie n .IP """^d"", ""^D""" 4
.el .IP "\f(CW^d\fR, \f(CW^D\fR" 4
.IX Item "^d, ^D"
Complete the search text with the text to the right or left of the current
match in the main text (i.e. right or left of the text marked with green
background color.)
.ie n .IP """^x""" 4
.el .IP "\f(CW^x\fR" 4
.IX Item "^x"
Remove the currently used pattern in the search history, if the current
pattern was copied by use of \fIUp\fR or \fIDown\fR (not in vim)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""n"", \fI\s-1ALT\-\s0\fR ""p""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWn\fR, \fI\s-1ALT\-\s0\fR \f(CWp\fR" 4
.IX Item "ALT- n, ALT- p"
Same as pressing the \fINext\fR or \fIPrevious\fR buttons respectively, i.e. search
for the current pattern in forward or backwards direction and add the pattern
to the search history. Keyboard focus remains in the search entry field.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""a""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWa\fR" 4
.IX Item "ALT- a"
Open the search result window and fill it with all text lines which match
the current search pattern (not in vim)  Additionally, keyboard focus is
moved back into the main window.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""N"", \fI\s-1ALT\-\s0\fR ""P""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWN\fR, \fI\s-1ALT\-\s0\fR \f(CWP\fR" 4
.IX Item "ALT- N, ALT- P"
Open the search result window and fill it with all text lines below or
above the current cursor position respectively which match the current
search pattern (not in vim)  Additionally, the keyboard focus is moved
back into the main window.
.ie n .IP "\fI\s-1ALT\-\s0\fR ""c""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWc\fR" 4
.IX Item "ALT- c"
Toggle the \*(L"match case\*(R" option, i.e. equivalent to clicking on \fIMatch case\fR
(not in vim)
.ie n .IP "\fI\s-1ALT\-\s0\fR ""e""" 4
.el .IP "\fI\s-1ALT\-\s0\fR \f(CWe\fR" 4
.IX Item "ALT- e"
Toggle the regular expression search option, i.e. equivalent to clicking
on button \fIReg.Exp.\fR (not in vim.)  When this option is enabled, special
characters are parsed according to \fIre_syntax\fR Tcl manual page; the syntax
is almost identical to Perl with few exceptions (notably \f(CW\*(C`\em\*(C'\fR and \f(CW\*(C`\eM\*(C'\fR to
match beginning and end of words)  When the option is not enabled, no
characters have a special meaning (i.e. even "\f(CW\*(C`*\*(C'\fR") and a simple sub-string
search is started.
.Sp
Note: for performance reasons it's recommended to use case-sensitive
sub-string searches for color highlighting, especially if you have many
patterns. This is usually faster than combining multiple patterns
with \f(CW\*(C`|\*(C'\fR in a regular expression.
.SS "Key Bindings in the Search Result Window"
.IX Subsection "Key Bindings in the Search Result Window"
The following commands can be used in the search result window (i.e.
the list filled by \*(L"Search All\*(R" and lines copied from the main window
via the \f(CW\*(C`i\*(C'\fR key binding.)
.PP
For users who prefer controls via the mouse it should be noted that
there's a context menu which opens via a click with the right mouse
button into a line, which has equivalent commands to the ones listed
below.
.ie n .IP """m""" 4
.el .IP "\f(CWm\fR" 4
.IX Item "m"
Bookmark the currently selected line.  The line will be marked both
in the search result window and the main window.
.IP "\fIDelete\fR" 4
.IX Item "Delete"
Remove the selected lines from the search result list.
.ie n .IP """u""" 4
.el .IP "\f(CWu\fR" 4
.IX Item "u"
Undo the last addition or removal.
.ie n .IP """^r""" 4
.el .IP "\f(CW^r\fR" 4
.IX Item "^r"
Redo the last addition or removal (if previously undone.)
.ie n .IP """/"", ""?""" 4
.el .IP "\f(CW/\fR, \f(CW?\fR" 4
.IX Item "/, ?"
Moves the keyboard focus in the search entry field in the main window
for entering a search expression. The behavior of the search is the
same as in the main window. When leaving the search entry field via
\&\f(CW\*(C`Return\*(C'\fR or \f(CW\*(C`Escape\*(C'\fR, the keyboard focus returns to the search list.
.ie n .IP """n"", ""N""" 4
.el .IP "\f(CWn\fR, \f(CWN\fR" 4
.IX Item "n, N"
Repeat the last search in downwards or upwards direction respectively.
The search is restricted to lines in the search result window.
.IP "\fIEscape\fR" 4
.IX Item "Escape"
Abort an ongoing search. Lines which were already found and added to
the search result window will remain. (You can still remove these lines
using \*(L"undo\*(R".)
.ie n .IP """&""" 4
.el .IP "\f(CW&\fR" 4
.IX Item "&"
Same as in the main window:
Remove the highlighting of previous search matches (same as
\&\f(CW\*(C`:nohlsearch\*(C'\fR in vim) and of lines highlighted in the main window by
positioning via selections in the search result list.
.PP
In addition to the above, the general selection dialog key bindings
in the next section also work in the search result window.
.SS "Key Bindings in Dialogs"
.IX Subsection "Key Bindings in Dialogs"
The following commands can be used to manipulate the selection cursor
in all dialogs which display lists (i.e. search result list,
search history, bookmarks, highlight pattern editor)  Note there's
no distinction between selection and cursor in these dialogs. This
means you cannot move the selection cursor from line A to D using
the keyboard without temporarily selecting lines B and C in-between.
.PP
Of course you can also manipulate the selection via the mouse in the
usual ways, i.e. clicking on single entries, or dragging the mouse
to select multiple elements, or pressing the mouse while holding
Control or Shift keys pressed to add or remove single elements or
extend the selection respectively.
.IP "\fIUp\fR, \fIDown\fR" 4
.IX Item "Up, Down"
Move the selection cursor one line up or down respectively, scrolling
the view if necessary.  If no line is selected yet, the cursor is
placed on the first or last line; if the previously selected line is
still in the visible area, the cursor is placed there instead.
.IP "\fIHome\fR, \fIEnd\fR" 4
.IX Item "Home, End"
Move the selection cursor on the first or last item in the list.
.IP "\fIShift-Up\fR, \fIShift-Down\fR, \fIShift-Home\fR, \fIShift-End\fR" 4
.IX Item "Shift-Up, Shift-Down, Shift-Home, Shift-End"
Extend or reduce the selection in the given direction, or to the
start or end of the list.
.IP "\fIPage-Up\fR, \fIPage-Down\fR" 4
.IX Item "Page-Up, Page-Down"
Scroll the view up or down by a page. These commands remove the
selection cursor.
.SH "OPTIONS"
.IX Header "OPTIONS"
The following command line options are available:
.IP "\fB\-h\fR \fIlimit\fR, \fB\-\-head=limit\fR" 4
.IX Item "-h limit, --head=limit"
This option specifies the maximum number of bytes to load from input file
or stream for display. When loading from a stream via \s-1STDIN,\s0 it's possible
to continue reading more data later via command \fIContinue loading \s-1STDIN\s0\fR.
.Sp
The limit value is remembered in the configuration file and used as default
the next time data is loaded from \s-1STDIN.\s0 When loading from a file, default
is to load the complete file.
.Sp
When neither option \fB\-h\fR or \fB\-t\fR are specified and data is loaded from a
stream via \s-1STDIN,\s0 a small dialog window pops up when the buffer limit is
exceeded. This allows the user to select between head and tail modes
manually.
.IP "\fB\-t\fR \fIlimit\fR, \fB\-\-tail=limit\fR" 4
.IX Item "-t limit, --tail=limit"
This option specifies to load only the given maximum number of bytes into
the display from the end of the file or input stream. This means when
reading from a file, data from the beginning is skipped if the file is
larger than the limit.  If the input is a \s-1STDIN\s0 stream, data is read into
a ring buffer of the given size. Once the end-of-stream is reached, the
last content of the ring buffer is loaded into the display.
.Sp
The limit value is remembered in the configuration file equivalently as
described for the \*(L"head\*(R" option.
.IP "\fB\-r\fR \fIpath\fR, \fB\-\-rcfile=path\fR" 4
.IX Item "-r path, --rcfile=path"
This option can be used to specify an alternate configuration file.
When this option is not present, the configuration file is stored in
system directories, see \*(L"\s-1FILES\*(R"\s0.
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
\&\fBtrowser\fR only evaluates the standard variables \fB\s-1DISPLAY\s0\fR (X11 display
address) and \fB\s-1HOME\s0\fR (home directory, for storing the configuration file.)
.SH "FILES"
.IX Header "FILES"
.IP "\fB\f(CB$HOME\fB/.config/trowser/trowser.py.rc\fR" 4
.IX Item "$HOME/.config/trowser/trowser.py.rc"
\&\fI\s-1UNIX\s0\fR:
Configuration file where all personal settings and the search history are
stored. The path may be overriden via environment variable \f(CW\*(C`XDG_CONFIG_HOME\*(C'\fR.
A different file name can be specified with the \fB\-\-rcfile\fR option
(see \*(L"\s-1OPTIONS\*(R"\s0).
.Sp
During updates to this file, trowser temporarily creates a new file the same
directory, where \*(L"\s-1XXXXX\*(R"\s0 is a random number. The old file is then replaced
with this new file. This procedure will obviously fail if the target directory
(not the file itself!) is not writable.
.Sp
\&\fI\s-1MS\s0 Windows\fR:
On the \s-1MS\s0 Windows platform, the configuration file is created in the hidden
application data directory in your user home. The specific path depends on
your operating system version. (The path is qeried via a system \s-1API.\s0)
.SH "CAVEATS"
.IX Header "CAVEATS"
Currently only one pattern list for color highlighting is supported.
Hence different highlighting for different file types can only be done
by choosing different configuration files when starting trowser
(see the \fI\-\-rcfile\fR option.)
.PP
Vim compatibility: Not all vim navigation commands are implemented; Command
repetition is supported only for a small sub-set of commands; Some commands
behave slightly differently from vim (most notably the bookmark related
commands.) vim's range and selection commands are not supported at all.
.PP
Search repetition by pressing \*(L"Next\*(R" or \*(L"Previous\*(R" or the search history
dialog is currently not interruptable and may take quite a while if the
next match is several \s-1MB\s0 away. (This can be avoided by repeating the
search via the entry field's internal search history, i.e. \f(CW\*(C`/\*(C'\fR and \fIUp\fR)
.PP
Searching with regular expressions is very slow in large files. This is
unfortunately a property of the \*(L"text\*(R" Tk widget. Thus use of regular
expressions for highlighting is not recommended. (As a work-around,
trowser automatically falls back to plain string search if there are no
control characters in the search expression.)
.PP
Some \s-1GUI\s0 activity (e.g. selecting a range on text with the mouse) will
render active background tasks uninteruptable, i.e. the \s-1GUI\s0 will become
unresponsive until the background task has completed.
.PP
File store and load dialogs do not maintain a history of previously
used files or directories. (This is so because it's expected that these
features will not be used very often.)
.PP
The pipe load and search result list dialogs are not designed very
well yet (i.e. even more so than the other dialogs). Suggestions for
improvements are welcome.
.PP
Some configuration options cannot be modified via the \s-1GUI\s0 and require
manually editing the configuration file.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBvim\fR\|(1),
\&\fBless\fR\|(1),
\&\fBhead\fR\|(1),
\&\fBtail\fR\|(1),
\&\fBegrep\fR\|(1),
\&\fBwish\fR\|(1),
\&\fBtclsh\fR\|(1),
\&\fBre_syntax\fR\|(3tcl),
\&\fBperlre\fR\|(1)
.SH "AUTHOR"
.IX Header "AUTHOR"
Written by T. Zoerner <mailto:tomzo@users.sourceforge.net>
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright 2007\-2009,2019\-2020,2023 T. Zoerner. All rights reserved.
.PP
This program is free software: you can redistribute it and/or modify
it under the terms of the \s-1GNU\s0 General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but \fBwithout any warranty\fR; without even the implied warranty of
\&\fBmerchantability\fR or \fBfitness for a particular purpose\fR.  See the
\&\fI\s-1GNU\s0 General Public License\fR for more details.
.PP
You should have received a copy of the \s-1GNU\s0 General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
